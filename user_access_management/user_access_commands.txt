# Show current logged-in user
whoami

# Display current user ID and group ID
id

# Show all users on the system
cut -d: -f1 /etc/passwd

# Show all groups on the system
cut -d: -f1 /etc/group

# Create a new group 'devops' (only if it doesn't exist)
getent group devops || sudo groupadd devops

# Create a user 'akhil' and assign primary group 'devops' (only if not exists)
id -u akhil &>/dev/null || sudo useradd -g devops akhil

# Create a user 'atchyuth' and assign primary group 'devops' (only if not exists)
id -u atchyuth &>/dev/null || sudo useradd -g devops atchyuth

# Set password for user 'akhil' (non-interactive way - if password utility is available)
echo "akhil:MySecurePass123" | sudo chpasswd

# Set password for user 'atchyuth'
echo "atchyuth:MySecurePass456" | sudo chpasswd

# Add 'akhil' to group 'devops' (secondary group)
sudo usermod -aG devops akhil

# Add 'atchyuth' to group 'devops' (secondary group)
sudo usermod -aG devops atchyuth

# Show groups user 'akhil' belongs to
groups akhil

# Show groups user 'atchyuth' belongs to
groups atchyuth

# Show all users in group 'devops'
getent group devops

# Change primary group of 'akhil' to 'devops'
sudo usermod -g devops akhil

# Rename user 'akhil' to 'akhildev' (only if 'akhildev' does not exist)
id -u akhildev &>/dev/null || sudo usermod -l akhildev akhil

# Rename group 'devops' to 'devsecops' (only if 'devsecops' does not exist)
getent group devsecops || sudo groupmod -n devsecops devops

# Lock user 'atchyuth' account
sudo usermod -L atchyuth

# Unlock user 'atchyuth' account
sudo usermod -U atchyuth

# Force password change on next login for 'akhildev'
sudo chage -d 0 akhildev

# Set account expiration date for 'akhildev'
sudo chage -E 2025-12-31 akhildev

# View password aging info for 'akhildev'
sudo chage -l akhildev

# Delete user 'atchyuth' (only if exists)
id -u atchyuth &>/dev/null && sudo userdel -r atchyuth

# Delete group 'devsecops' (only if no primary users)
getent group devsecops && sudo groupdel devsecops

# Add 'akhildev' to sudoers without password prompt
echo "akhildev ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/akhildev

# View sudo permissions for 'akhildev'
sudo -l -U akhildev
